!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactPlace=e()}}(function(){return function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!u&&l)return l(s,!0);if(r)return r(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=window.React,a=i(l),c=window.ReactDOM,f=i(c),p=e("awesomplete"),h=i(p),d=e("promise-polyfill"),v=i(d),g=e("./vendor/google"),y=i(g),m="Unrecognised {{value}}, please check and re-enter.",b="US",_=function(){var e=arguments;return function(t){for(var n=e.length-1;n>=0;n--)t=e[n].call(this,t);return t}},w=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){return a["default"].createElement("input",{type:"text",className:this.props.className,style:this.props.style||"",placeholder:this.props.placeholder||"Type your location here."})}},{key:"componentWillMount",value:function(){this._googlePredictions=[],this._country=this.props.country||b,this._noMatching=this.props.noMatching||m}},{key:"componentDidMount",value:function(){var e,t={minChars:1,keepListItems:!1,sort:function(){return 0},item:function(e,t){return h["default"].$.create("li",{innerHTML:e.replace(RegExp(h["default"].$.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})}};e=f["default"].findDOMNode(this),this._autocomplete=new h["default"](e,t),e.addEventListener("awesomplete-selectcomplete",this._handleAutocompleteSelect.bind(this)),e.addEventListener("keyup",this._handleInputChange.bind(this))}},{key:"updateCountry",value:function(e){this._country=e}},{key:"_handleInputChange",value:function(e){var t=this,n=this._getInputValue(),i=_(this._autocomplete.evaluate.bind(this._autocomplete),function(e){return t._autocomplete.list=e},function(e){return e.map(function(e){return e.description})},function(e){return t._googlePredictions=e}),o=_(i,function(e){return[{description:e}]},function(e){return t._noMatching.replace("{{value}}",e)}),r=[38,40,13,27],s=r.indexOf(e.keyCode)>=0;s||this._getPredictions(n).then(i,o)}},{key:"_handleAutocompleteSelect",value:function(){var e=this,t=this._getInputValue(),n=function(e){var n=e.filter(function(e){return e.description===t});return n.length>0?n[0]:!1},i=function(e){return e&&e.place_id?e.place_id:!1},o=_(i,n),r=function(n){e.props.onLocationSet&&e.props.onLocationSet({description:t,coords:{lat:n.lat(),lng:n.lng()}})};this._getCoordinates(o(this._googlePredictions)).then(r)}},{key:"_getInputValue",value:function(){return f["default"].findDOMNode(this).value}},{key:"_getPredictions",value:function(e){var t=this,n=(this.props.google||y["default"]).createAutocompleteService(),i=!!e;return i?new v["default"](function(i,o){n.getPlacePredictions({input:e,componentRestrictions:{country:t._country},types:["(regions)"]},function(t){null!==t?i(t):o(e)})}):new v["default"](function(e,t){})}},{key:"_getCoordinates",value:function(e){var t=(this.props.google||y["default"]).createGeocoder();return new v["default"](function(n,i){t.geocode({placeId:e},function(e,t){"OK"===t&&e&&e.length>0?n(e[0].geometry.location):i(!1)})})}}]),t}(a["default"].Component);n["default"]=w,w.defaultProps={className:"",style:{}},w.propTypes={onLocationSet:a["default"].PropTypes.func,className:a["default"].PropTypes.string,placeholder:a["default"].PropTypes.string,country:a["default"].PropTypes.string,noMatching:a["default"].PropTypes.string,google:a["default"].PropTypes.object,style:a["default"].PropTypes.object},t.exports=n["default"]},{"./vendor/google":2,awesomplete:3,"promise-polyfill":4}],2:[function(e,t,n){(function(e){"use strict";function i(){return new e.google.maps.places.AutocompleteService}function o(){return new e.google.maps.Geocoder}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={createAutocompleteService:i,createGeocoder:o},t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){!function(){function e(e){var t=Array.isArray(e)?{label:e[0],value:e[1]}:"object"==typeof e&&"label"in e&&"value"in e?e:{label:e,value:e};this.label=t.label||t.value,this.value=t.value}function n(e,t,n){for(var i in t){var o=t[i],r=e.input.getAttribute("data-"+i.toLowerCase());"number"==typeof o?e[i]=parseInt(r):o===!1?e[i]=null!==r:o instanceof Function?e[i]=null:e[i]=r,e[i]||0===e[i]||(e[i]=i in n?n[i]:o)}}function i(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function o(e,t){return u.call((t||document).querySelectorAll(e))}function r(){o("input.awesomplete").forEach(function(e){new s(e)})}var s=function(e,t){var o=this;this.input=i(e),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),t=t||{},n(this,{minChars:2,maxItems:10,autoFirst:!1,data:s.DATA,filter:s.FILTER_CONTAINS,sort:s.SORT_BYLENGTH,item:s.ITEM,replace:s.REPLACE},t),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:e}),this.ul=i.create("ul",{hidden:"hidden",inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),i.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(e){var t=e.keyCode;o.opened&&(13===t&&o.selected?(e.preventDefault(),o.select()):27===t?o.close():(38===t||40===t)&&(e.preventDefault(),o[38===t?"previous":"next"]()))}}),i.bind(this.input.form,{submit:this.close.bind(this)}),i.bind(this.ul,{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&(e.preventDefault(),o.select(t,e.target))}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||t.list||[],s.all.push(this)};s.prototype={set list(e){if(Array.isArray(e))this._list=e;else if("string"==typeof e&&e.indexOf(",")>-1)this._list=e.split(/\s*,\s*/);else if(e=i(e),e&&e.children){var t=[];u.apply(e.children).forEach(function(e){if(!e.disabled){var n=e.textContent.trim(),i=e.value||n,o=e.label||n;""!==i&&t.push({label:o,value:i})}}),this._list=t}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return!this.ul.hasAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,i.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this["goto"](0),i.fire(this.input,"awesomplete-open")},next:function(){var e=this.ul.children.length;this["goto"](this.index<e-1?this.index+1:-1)},previous:function(){var e=this.ul.children.length;this["goto"](this.selected?this.index-1:e-1)},"goto":function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&t.length>0&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent,i.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(e,t){if(e?this.index=i.siblingIndex(e):e=this.ul.children[this.index],e){var n=this.suggestions[this.index],o=i.fire(this.input,"awesomplete-select",{text:n,origin:t||e});o&&(this.replace(n),this.close(),i.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var t=this,n=this.input.value;n.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(i){return new e(t.data(i,n))}).filter(function(e){return t.filter(e,n)}).sort(this.sort).slice(0,this.maxItems),this.suggestions.forEach(function(e){t.ul.appendChild(t.item(e,n))}),0===this.ul.children.length?this.close():this.open()):this.close()}},s.all=[],s.FILTER_CONTAINS=function(e,t){return RegExp(i.regExpEscape(t.trim()),"i").test(e)},s.FILTER_STARTSWITH=function(e,t){return RegExp("^"+i.regExpEscape(t.trim()),"i").test(e)},s.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:t>e?-1:1},s.ITEM=function(e,t){var n=""===t?e:e.replace(RegExp(i.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>");return i.create("li",{innerHTML:n,"aria-selected":"false"})},s.REPLACE=function(e){this.input.value=e.value},s.DATA=function(e){return e},Object.defineProperty(e.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),e.prototype.toString=e.prototype.valueOf=function(){return""+this.label};var u=Array.prototype.slice;return i.create=function(e,t){var n=document.createElement(e);for(var o in t){var r=t[o];if("inside"===o)i(r).appendChild(n);else if("around"===o){var s=i(r);s.parentNode.insertBefore(n,s),n.appendChild(s)}else o in n?n[o]=r:n.setAttribute(o,r)}return n},i.bind=function(e,t){if(e)for(var n in t){var i=t[n];n.split(/\s+/).forEach(function(t){e.addEventListener(t,i)})}},i.fire=function(e,t,n){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0);for(var o in n)i[o]=n[o];return e.dispatchEvent(i)},i.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r)),s.$=i,s.$$=o,"undefined"!=typeof self&&(self.Awesomplete=s),"object"==typeof t&&t.exports&&(t.exports=s),s}()},{}],4:[function(e,t,n){!function(e){function n(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(e,n(r,this),n(s,this))}function o(e){var t=this;return null===this._state?void this._deferreds.push(e):void c(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var i;try{i=n(t._value)}catch(o){return void e.reject(o)}e.resolve(i)})}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void a(n(t,e),n(r,this),n(s,this))}this._state=!0,this._value=e,u.call(this)}catch(i){s.call(this,i)}}function s(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;t>e;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function a(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(o){if(i)return;i=!0,n(o)}}var c="function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=this;return new i(function(i,r){o.call(n,new l(e,t,i,r))})},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new i(function(t,n){function i(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,function(e){i(r,e)},n)}e[r]=s,0===--o&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var o=e.length,r=0;r<e.length;r++)i(r,e[r])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var i=0,o=e.length;o>i;i++)e[i].then(t,n)})},i._setImmediateFn=function(e){c=e},"undefined"!=typeof t&&t.exports?t.exports=i:e.Promise||(e.Promise=i)}(this)},{}]},{},[1])(1)});
//# sourceMappingURL=./build/react-place.min.js.map