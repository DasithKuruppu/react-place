!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ReactPlace=t()}}(function(){return function t(e,n,i){function o(u,s){if(!n[u]){if(!e[u]){var l="function"==typeof require&&require;if(!s&&l)return l(u,!0);if(r)return r(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[u]={exports:{}};e[u][0].call(c.exports,function(t){var n=e[u][1][t];return o(n?n:t)},c,c.exports,t,e,n,i)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=window.React,c=i(a),f=window.ReactDOM,p=i(f),h=t("awesomplete"),d=i(h),v=t("promise-polyfill"),g=i(v),y=t("./vendor/google"),m=i(y),b="Unrecognised {{value}}, please check and re-enter.",_="US",w=function(){var t=arguments;return function(e){for(var n=t.length-1;n>=0;n--)e=t[n].call(this,e);return e}},x=function(t){function e(){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),l(e,[{key:"render",value:function(){return c["default"].createElement("input",s({type:"text"},this.props.inputProps))}},{key:"componentWillMount",value:function(){this._googlePredictions=[],this._country=this.props.country||_,this._noMatching=this.props.noMatching||b}},{key:"componentDidMount",value:function(){var t,e={minChars:1,keepListItems:!1,sort:function(){return 0},item:function(t,e){return d["default"].$.create("li",{innerHTML:t.replace(RegExp(d["default"].$.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})}};t=p["default"].findDOMNode(this),this._autocomplete=new d["default"](t,e),t.addEventListener("awesomplete-selectcomplete",this._handleAutocompleteSelect.bind(this)),t.addEventListener("keyup",this._handleInputChange.bind(this))}},{key:"updateCountry",value:function(t){this._country=t}},{key:"_handleInputChange",value:function(t){var e=this,n=this._getInputValue(),i=w(this._autocomplete.evaluate.bind(this._autocomplete),function(t){return e._autocomplete.list=t},function(t){return t.map(function(t){return t.description})},function(t){return e._googlePredictions=t}),o=w(i,function(t){return[{description:t}]},function(t){return e._noMatching.replace("{{value}}",t)}),r=[38,40,13,27],u=r.indexOf(t.keyCode)>=0;u||this._getPredictions(n).then(i,o)}},{key:"_handleAutocompleteSelect",value:function(){var t=this,e=this._getInputValue(),n=function(t){var n=t.filter(function(t){return t.description===e});return n.length>0?n[0]:!1},i=function(t){return t&&t.place_id?t.place_id:!1},o=w(i,n),r=function(n){t.props.onLocationSet&&t.props.onLocationSet({description:e,coords:{lat:n.geometry.location.lat(),lng:n.geometry.location.lng()},postalcode:(n.address_components.find(function(t){return t.types.indexOf("postal_code")>=0})||{long_name:null}).long_name})};this._getCoordinates(o(this._googlePredictions)).then(r)}},{key:"_getInputValue",value:function(){return p["default"].findDOMNode(this).value}},{key:"_getPredictions",value:function(t){var e=this,n=(this.props.google||m["default"]).createAutocompleteService(),i=!!t;return i?new g["default"](function(i,o){n.getPlacePredictions({input:t,componentRestrictions:{country:e._country},types:["(regions)"]},function(e){null!==e?i(e):o(t)})}):new g["default"](function(t,e){})}},{key:"_getCoordinates",value:function(t){var e=(this.props.google||m["default"]).createGeocoder();return new g["default"](function(n,i){e.geocode({placeId:t},function(t,e){"OK"===e&&t&&t.length>0?n(t[0]):i(!1)})})}}]),e}(c["default"].Component);n["default"]=x,x.defaultProps={className:"",style:{}},x.propTypes={onLocationSet:c["default"].PropTypes.func,inputProps:c["default"].PropTypes.object,country:c["default"].PropTypes.string,noMatching:c["default"].PropTypes.string,google:c["default"].PropTypes.object},e.exports=n["default"]},{"./vendor/google":2,awesomplete:3,"promise-polyfill":4}],2:[function(t,e,n){(function(t){"use strict";function i(){return new t.google.maps.places.AutocompleteService}function o(){return new t.google.maps.Geocoder}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={createAutocompleteService:i,createGeocoder:o},e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){!function(){function t(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}function n(t,e,n){for(var i in e){var o=e[i],r=t.input.getAttribute("data-"+i.toLowerCase());"number"==typeof o?t[i]=parseInt(r):o===!1?t[i]=null!==r:o instanceof Function?t[i]=null:t[i]=r,t[i]||0===t[i]||(t[i]=i in n?n[i]:o)}}function i(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function o(t,e){return s.call((e||document).querySelectorAll(t))}function r(){o("input.awesomplete").forEach(function(t){new u(t)})}var u=function(t,e){var o=this;this.input=i(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),e=e||{},n(this,{minChars:2,maxItems:10,autoFirst:!1,data:u.DATA,filter:u.FILTER_CONTAINS,sort:u.SORT_BYLENGTH,item:u.ITEM,replace:u.REPLACE},e),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:t}),this.ul=i.create("ul",{hidden:"hidden",inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),i.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(t){var e=t.keyCode;o.opened&&(13===e&&o.selected?(t.preventDefault(),o.select()):27===e?o.close():(38===e||40===e)&&(t.preventDefault(),o[38===e?"previous":"next"]()))}}),i.bind(this.input.form,{submit:this.close.bind(this)}),i.bind(this.ul,{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),o.select(e,t.target))}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||e.list||[],u.all.push(this)};u.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if(t=i(t),t&&t.children){var e=[];s.apply(t.children).forEach(function(t){if(!t.disabled){var n=t.textContent.trim(),i=t.value||n,o=t.label||n;""!==i&&e.push({label:o,value:i})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return!this.ul.hasAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,i.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this["goto"](0),i.fire(this.input,"awesomplete-open")},next:function(){var t=this.ul.children.length;this["goto"](this.index<t-1?this.index+1:-1)},previous:function(){var t=this.ul.children.length;this["goto"](this.selected?this.index-1:t-1)},"goto":function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent,i.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=i.siblingIndex(t):t=this.ul.children[this.index],t){var n=this.suggestions[this.index],o=i.fire(this.input,"awesomplete-select",{text:n,origin:e||t});o&&(this.replace(n),this.close(),i.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var e=this,n=this.input.value;n.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(i){return new t(e.data(i,n))}).filter(function(t){return e.filter(t,n)}).sort(this.sort).slice(0,this.maxItems),this.suggestions.forEach(function(t){e.ul.appendChild(e.item(t,n))}),0===this.ul.children.length?this.close():this.open()):this.close()}},u.all=[],u.FILTER_CONTAINS=function(t,e){return RegExp(i.regExpEscape(e.trim()),"i").test(t)},u.FILTER_STARTSWITH=function(t,e){return RegExp("^"+i.regExpEscape(e.trim()),"i").test(t)},u.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:e>t?-1:1},u.ITEM=function(t,e){var n=""===e?t:t.replace(RegExp(i.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return i.create("li",{innerHTML:n,"aria-selected":"false"})},u.REPLACE=function(t){this.input.value=t.value},u.DATA=function(t){return t},Object.defineProperty(t.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),t.prototype.toString=t.prototype.valueOf=function(){return""+this.label};var s=Array.prototype.slice;return i.create=function(t,e){var n=document.createElement(t);for(var o in e){var r=e[o];if("inside"===o)i(r).appendChild(n);else if("around"===o){var u=i(r);u.parentNode.insertBefore(n,u),n.appendChild(u)}else o in n?n[o]=r:n.setAttribute(o,r)}return n},i.bind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,i)})}},i.fire=function(t,e,n){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0);for(var o in n)i[o]=n[o];return t.dispatchEvent(i)},i.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r)),u.$=i,u.$$=o,"undefined"!=typeof self&&(self.Awesomplete=u),"object"==typeof e&&e.exports&&(e.exports=u),u}()},{}],4:[function(t,e,n){!function(t){function n(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,n(r,this),n(u,this))}function o(t){var e=this;return null===this._state?void this._deferreds.push(t):void c(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(o){return void t.reject(o)}t.resolve(i)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void a(n(e,t),n(r,this),n(u,this))}this._state=!0,this._value=t,s.call(this)}catch(i){u.call(this,i)}}function u(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds.length;e>t;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function a(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(o){if(i)return;i=!0,n(o)}}var c="function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},f=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=this;return new i(function(i,r){o.call(n,new l(t,e,i,r))})},i.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new i(function(e,n){function i(r,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var s=u.then;if("function"==typeof s)return void s.call(u,function(t){i(r,t)},n)}t[r]=u,0===--o&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var i=0,o=t.length;o>i;i++)t[i].then(e,n)})},i._setImmediateFn=function(t){c=t},"undefined"!=typeof e&&e.exports?e.exports=i:t.Promise||(t.Promise=i)}(this)},{}]},{},[1])(1)});
//# sourceMappingURL=./build/react-place.min.js.map